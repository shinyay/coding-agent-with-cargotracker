<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="jakarta.faces.html" xmlns:p="http://primefaces.org/ui"
  xmlns:ui="jakarta.faces.facelets" xmlns:f="jakarta.faces.core">
<ui:composition template="/WEB-INF/templates/common/admin.xhtml">
  <ui:define name="title">#{msg['booking.title']}</ui:define>
  <ui:define name="content">
    <div class="ui-g-2" id="leftCol"></div>
    <div class="ui-g-8" id="mainCol">
      <br />
      <h:form id="dateForm">
        <h:outputFormat value="3. #{msg['booking.date']}">
          <f:param value="#{booking.originName}" />
          <f:param value="#{booking.destinationName}" />
        </h:outputFormat>
        <hr />
        <h:panelGrid columns="1" styleClass="registrationPanelGrid"
          style="margin: 0 auto;">
          <p:calendar id="deadline" value="#{booking.arrivalDeadline}"
            mindate="#{booking.today}" mode="inline" pattern="yyyy-MM-dd">
            <p:ajax event="dateSelect" listener="#{booking.deadlineUpdated}" />
          </p:calendar>
        </h:panelGrid>
        <h:panelGrid columns="1" id="durationPanel"
          styleClass="registrationPanelGrid" style="margin: 0 auto;">
          <p:outputLabel value="旅程は同じ日に開始して終了することはできません！"
            rendered="#{booking.duration eq 0}" />
          <p:outputLabel value="旅程期間は1日です。"
            rendered="#{booking.duration eq 1}" />
          <p:outputLabel value="旅程期間は #{booking.duration} 日です。"
            rendered="#{booking.duration gt 1}" />
        </h:panelGrid>
        <hr />
        <h:panelGrid columns="3" styleClass="registrationPanelGrid"
          style="margin: 0 auto;">
          <p:commandButton value="#{msg['booking.back']}" action="booking-destination" />
          <p:commandButton value="#{msg['booking.cancel']}" action="/admin/dashboard" />
          <p:commandButton value="貨物を予約" id="bookBtn"
            action="#{booking.register()}" disabled="#{!booking.bookable}" />
        </h:panelGrid>
      </h:form>
    </div>
  </ui:define>
</ui:composition>
</html>
